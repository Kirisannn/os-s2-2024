#!/bin/bash

# Initialize variables
port=""
pattern=""

# Parse arguments into variables port and pattern
while getopts ":l:p:" opt; do
    case $opt in
        l)
            port=$OPTARG  # Store the port argument
            ;;
        p)
            pattern=$OPTARG  # Store the pattern argument
            ;;
        \?)
            # Invalid option; exit with an error code
            exit 1
            ;;
        :)
            # Missing argument; exit with an error code
            exit 1
            ;;
    esac
done

# Check conditions to run the Python script with the appropriate arguments
if [ -n "$port" ] && [ -n "$pattern" ]; then
    # Both port and pattern are provided
    python3 assignment3.py -l "$port" -p "$pattern"
elif [ -n "$pattern" ]; then
    # Only pattern is provided
    python3 assignment3.py -p "$pattern"
elif [ -n "$port" ]; then
    # Only port is provided
    python3 assignment3.py -l "$port"
else
    # Neither argument is provided
    python3 assignment3.py
fi
